<?xml version="1.0"?>
<svg xmlns="http://www.w3.org/2000/svg"
     width="<%= imageSize.width %>"
     height="<%= imageSize.height %>"
     viewBox="0 0 <%= viewBox.width %> <%= viewBox.height %>">
  <style>
    #gear {
      <%_ if (transparency === 'lots') { _%>
      fill: #000000;
      fill-opacity: 0.2;
      <%_ } else if (transparency === 'just a little') { _%>
      fill: #C0C0C0;
      fill-opacity: 0.8;
      <%_ } _%>
      stroke: #000000;
      stroke-width: <%= 0.5 * baseScale %>;
    }

    text {
      font-family: Arial Narrow, Arial, sans-serif;
      font-size: 20px;
      fill: #000000;
      fill-opacity: 0.4;
      filter: drop-shadow(1px 1px 0px rgba(255, 255, 255, 0.3));
      text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.3);
    }
  </style>
  <g>
    <path id="gear"
          fill-rule="evenodd"
          d="<%= gearPath.toString() %>
             <%_ for (const { path } of holes) { _%>
             <%= path.toString() %>
             <%_ } _%>
            " />
    <%_ for (const { text } of holes) { _%>
    <text text-anchor="middle"
          dominant-baseline="middle"
          letter-spacing="-0.5"
          transform="rotate(<%= text.rotation %>, <%= text.position.x %>, <%= text.position.y %>)"
          x="<%= text.position.x %>"
          y="<%= text.position.y %>">
      <%= text.content %>
    </text>
    <%_ } _%>
  </g>
</svg>
